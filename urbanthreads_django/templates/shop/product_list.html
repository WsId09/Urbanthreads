{% extends 'base.html' %}

{% block title %}Collections - UrbanThreads{% endblock %}

{% block content %}

<div style="padding: 80px 0; background: #fff;">
    <div class="container">
        <div class="row">
            <!-- LUXURY SIDEBAR -->
            <div class="col-md-3" data-aos="fade-right">
                <div style="background: #000; padding: 40px 30px; border: 1px solid #D4AF37;">
                    <h5 style="font-family: 'Playfair Display', serif; font-size: 1.3rem; color: #D4AF37; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 30px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 15px;">
                        Categories
                    </h5>
                    <div class="list-group" style="background: transparent; border: none;">
                        <a href="{% url 'product_list' %}" style="background: transparent; border: none; border-left: 2px solid transparent; color: #F5F5DC; padding: 15px 20px; margin-bottom: 5px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; transition: all 0.3s; display: block;"
                           onmouseover="this.style.borderLeft='2px solid #D4AF37'; this.style.paddingLeft='30px'; this.style.color='#D4AF37'"
                           onmouseout="this.style.borderLeft='2px solid transparent'; this.style.paddingLeft='20px'; this.style.color='#F5F5DC'">
                            All Products
                        </a>
                        {% for category in categories %}
                            <a href="{% url 'category_products' category.slug %}" style="background: transparent; border: none; border-left: 2px solid transparent; color: #F5F5DC; padding: 15px 20px; margin-bottom: 5px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; transition: all 0.3s; display: block;"
                               onmouseover="this.style.borderLeft='2px solid #D4AF37'; this.style.paddingLeft='30px'; this.style.color='#D4AF37'"
                               onmouseout="this.style.borderLeft='2px solid transparent'; this.style.paddingLeft='20px'; this.style.color='#F5F5DC'">
                                {{ category.name }}
                            </a>
                        {% endfor %}
                    </div>
                    
                    <h5 style="font-family: 'Playfair Display', serif; font-size: 1.3rem; color: #D4AF37; letter-spacing: 3px; text-transform: uppercase; margin-top: 50px; margin-bottom: 30px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 15px;">
                        Price Range
                    </h5>
                    <div class="list-group" style="background: transparent; border: none;">
                        <a href="?price=low" style="background: transparent; border: none; border-left: 2px solid transparent; color: #F5F5DC; padding: 15px 20px; margin-bottom: 5px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; transition: all 0.3s; display: block;"
                           onmouseover="this.style.borderLeft='2px solid #D4AF37'; this.style.paddingLeft='30px'; this.style.color='#D4AF37'"
                           onmouseout="this.style.borderLeft='2px solid transparent'; this.style.paddingLeft='20px'; this.style.color='#F5F5DC'">
                            Under ₹2000
                        </a>
                        <a href="?price=mid" style="background: transparent; border: none; border-left: 2px solid transparent; color: #F5F5DC; padding: 15px 20px; margin-bottom: 5px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; transition: all 0.3s; display: block;"
                           onmouseover="this.style.borderLeft='2px solid #D4AF37'; this.style.paddingLeft='30px'; this.style.color='#D4AF37'"
                           onmouseout="this.style.borderLeft='2px solid transparent'; this.style.paddingLeft='20px'; this.style.color='#F5F5DC'">
                            ₹2000 - ₹4000
                        </a>
                        <a href="?price=high" style="background: transparent; border: none; border-left: 2px solid transparent; color: #F5F5DC; padding: 15px 20px; margin-bottom: 5px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; transition: all 0.3s; display: block;"
                           onmouseover="this.style.borderLeft='2px solid #D4AF37'; this.style.paddingLeft='30px'; this.style.color='#D4AF37'"
                           onmouseout="this.style.borderLeft='2px solid transparent'; this.style.paddingLeft='20px'; this.style.color='#F5F5DC'">
                            Above ₹4000
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- PRODUCTS GRID -->
            <div class="col-md-9">
                <div class="d-flex justify-content-between align-items-center mb-5" data-aos="fade-down">
                    <div>
                        <p style="color: #D4AF37; font-size: 11px; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 10px;">Our Collection</p>
                        <h2 style="font-family: 'Playfair Display', serif; font-size: 2.5rem; color: #000; letter-spacing: 3px; text-transform: uppercase;">All Products</h2>
                    </div>
                    <div style="color: #666; font-size: 12px; letter-spacing: 2px;">
                        {{ products.count }} Products Found
                    </div>
                </div>
                
                <div class="row g-4">
                    {% for product in products %}
                    <div class="col-md-4" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|add:50 }}">
                        <div class="luxury-card position-relative">
                            {% if product.is_on_sale %}
                                <span class="luxury-badge">Sale</span>
                            {% elif product.is_featured %}
                                <span class="luxury-badge" style="background: linear-gradient(135deg, #000, #1a1a1a); color: #D4AF37;">Featured</span>
                            {% endif %}
                            
                            <div class="zoom-container">
                                <a href="{% url 'product_detail' product.slug %}">
                                    <img src="{{ product.get_photo_url }}" class="luxury-card-img" alt="{{ product.name }}">
                                </a>
                            </div>
                            
                            <div style="padding: 30px; text-align: center;">
                                <p style="color: #D4AF37; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px;">
                                    {{ product.category.name }}
                                </p>
                                
                                <h5 style="font-family: 'Playfair Display', serif; font-size: 1.2rem; letter-spacing: 2px; text-transform: uppercase; color: #000; margin-bottom: 18px; min-height: 60px; display: flex; align-items: center; justify-content: center;">
                                    {{ product.name }}
                                </h5>
                                
                                <div style="margin-bottom: 25px;">
                                    {% if product.is_on_sale %}
                                        <span style="text-decoration: line-through; color: #999; font-size: 14px; margin-right: 10px;">₹{{ product.price }}</span>
                                        <span class="luxury-price" style="font-size: 1.8rem;">₹{{ product.discount_price }}</span>
                                    {% else %}
                                        <span class="luxury-price" style="font-size: 1.8rem;">₹{{ product.price }}</span>
                                    {% endif %}
                                </div>
                                
                                <a href="{% url 'product_detail' product.slug %}" class="btn-luxury-outline">
                                    <i class="fas fa-eye me-2"></i>View Details
                                </a>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <div class="col-12 text-center" style="padding: 100px 0;">
                        <i class="fas fa-shopping-bag" style="font-size: 4rem; color: #D4AF37; opacity: 0.3; margin-bottom: 30px;"></i>
                        <p style="color: #999; font-size: 14px; letter-spacing: 2px; text-transform: uppercase;">No products found</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
