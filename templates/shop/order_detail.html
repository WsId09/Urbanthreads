{% extends 'base.html' %}

{% block title %}Order #{{ order.order_number }} - UrbanThreads{% endblock %}

{% block content %}
<div style="padding: 100px 0; background: #fff;">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-down">
            <p style="color: #D4AF37; font-size: 11px; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 20px;">Order Details</p>
            <h2 style="font-family: 'Playfair Display', serif; font-size: 3rem; color: #000; letter-spacing: 3px; text-transform: uppercase;">
                Order #{{ order.order_number }}
            </h2>
            <p style="color: #666; font-size: 13px; letter-spacing: 2px; margin-top: 15px;">
                Placed on {{ order.created_at|date:"F d, Y" }}
            </p>
        </div>
        
        <div class="row">
            <div class="col-md-8" data-aos="fade-right">
                <div style="background: #fff; border: 1px solid rgba(212, 175, 55, 0.3); padding: 40px; margin-bottom: 30px;">
                    <h5 style="font-family: 'Playfair Display', serif; font-size: 1.5rem; color: #000; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 30px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 15px;">
                        Order Items
                    </h5>
                    
                    {% for item in order.items.all %}
                    <div style="display: flex; align-items: center; padding: 20px 0; border-bottom: 1px solid rgba(212, 175, 55, 0.2);">
                        <div class="zoom-container" style="width: 100px; height: 100px; flex-shrink: 0; margin-right: 25px; border: 1px solid #D4AF37; padding: 5px;">
                            <img src="{{ item.product.get_photo_url }}" alt="{{ item.product.name }}" 
                                 style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                        <div style="flex: 1;">
                            <h6 style="font-family: 'Playfair Display', serif; font-size: 1.2rem; color: #000; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px;">
                                {{ item.product.name }}
                            </h6>
                            <p style="color: #666; font-size: 12px; letter-spacing: 1px; margin-bottom: 8px;">
                                Size: {{ item.size }} | Color: {{ item.color }}
                            </p>
                            <p style="color: #999; font-size: 12px; letter-spacing: 1px;">
                                Quantity: {{ item.quantity }}
                            </p>
                        </div>
                        <div style="text-align: right;">
                            <p style="color: #D4AF37; font-size: 1.5rem; font-weight: 700; font-family: 'Playfair Display', serif;">
                                ₹{{ item.price }}
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <div style="background: #fff; border: 1px solid rgba(212, 175, 55, 0.3); padding: 40px;">
                    <h5 style="font-family: 'Playfair Display', serif; font-size: 1.5rem; color: #000; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 30px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 15px;">
                        Shipping Address
                    </h5>
                    <p style="color: #000; font-size: 14px; font-weight: 600; margin-bottom: 10px;">{{ order.full_name }}</p>
                    <p style="color: #666; font-size: 13px; line-height: 1.8; margin-bottom: 8px;">{{ order.address }}</p>
                    <p style="color: #666; font-size: 13px; line-height: 1.8; margin-bottom: 8px;">
                        {{ order.city }}, {{ order.state }} - {{ order.pincode }}
                    </p>
                    <p style="color: #666; font-size: 13px; line-height: 1.8; margin-bottom: 8px;">
                        <i class="fas fa-phone me-2" style="color: #D4AF37;"></i>{{ order.phone }}
                    </p>
                    <p style="color: #666; font-size: 13px; line-height: 1.8;">
                        <i class="fas fa-envelope me-2" style="color: #D4AF37;"></i>{{ order.email }}
                    </p>
                </div>
            </div>
            
            <div class="col-md-4" data-aos="fade-left">
                <div style="background: #000; border: 1px solid #D4AF37; padding: 40px; position: sticky; top: 100px;">
                    <h5 style="font-family: 'Playfair Display', serif; font-size: 1.5rem; color: #D4AF37; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 30px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 15px;">
                        Order Summary
                    </h5>
                    
                    <div style="margin-bottom: 25px;">
                        <p style="color: #999; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 8px;">Status</p>
                        <span style="padding: 8px 20px; font-size: 11px; letter-spacing: 2px; text-transform: uppercase; font-weight: 700; display: inline-block;
                                     {% if order.status == 'Pending' %}
                                         background: #f6ad55; color: #000;
                                     {% elif order.status == 'Processing' %}
                                         background: #4299e1; color: #fff;
                                     {% elif order.status == 'Shipped' %}
                                         background: #9f7aea; color: #fff;
                                     {% elif order.status == 'Delivered' %}
                                         background: #48bb78; color: #fff;
                                     {% else %}
                                         background: #f56565; color: #fff;
                                     {% endif %}">
                            {{ order.status }}
                        </span>
                    </div>
                    
                    <div style="border-top: 1px solid rgba(212, 175, 55, 0.3); padding-top: 25px; margin-top: 25px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <span style="color: #F5F5DC; font-size: 12px; letter-spacing: 2px; text-transform: uppercase;">Subtotal</span>
                            <span style="color: #F5F5DC; font-size: 14px; font-weight: 600;">₹{{ order.total_amount|floatformat:2 }}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 25px;">
                            <span style="color: #F5F5DC; font-size: 12px; letter-spacing: 2px; text-transform: uppercase;">Shipping</span>
                            <span style="color: #48bb78; font-size: 14px; font-weight: 600;">FREE</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding-top: 20px; border-top: 2px solid #D4AF37;">
                            <span style="color: #D4AF37; font-size: 14px; letter-spacing: 3px; text-transform: uppercase; font-weight: 700;">Total</span>
                            <span style="font-family: 'Playfair Display', serif; color: #D4AF37; font-size: 2rem; font-weight: 700;">
                                ₹{{ order.total_amount }}
                            </span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <a href="{% url 'download_invoice' order.id %}" class="btn-luxury" style="width: 100%; text-align: center; padding: 15px;">
                            <i class="fas fa-download me-2"></i>Download Invoice
                        </a>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <a href="{% url 'orders' %}" class="btn-luxury-outline" style="width: 100%; text-align: center; padding: 12px;">
                            <i class="fas fa-arrow-left me-2"></i>Back to Orders
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
